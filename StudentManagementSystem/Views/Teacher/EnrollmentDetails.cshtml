@model StudentManagementSystem.Models.Enrollment

@{
    ViewBag.Title = "EnrollmentDetails";
    Layout = "~/Views/Shared/TeacherLayout.cshtml";
}

<h2>EnrollmentDetails</h2>

<div>
    <h4>Enrollment</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.CourseId)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.CourseId)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.StudentId)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.StudentId)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.EnrollmentDate)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.EnrollmentDate)
        </dd>
        <dt>
            Grade
        </dt>
        <dd>
            @{ 
                StudentManagementSystem.Models.Grade g = (new StudentManagementSystem.Models.StudentContext()).Grades.Where(gr => gr.EnrolledId == Model.EnrollmentId).FirstOrDefault();
                string gname = "";
                if(g != null)
                {
                    gname = g.GradeName;

                }

            }
            @gname
        </dd>

    </dl>
</div>
<p>
    @Html.ActionLink("View Payment", "ViewPayment", "Teacher", new { id = Model.EnrollmentId }, new { @class = "btn btn-primary" }) |
    @Html.ActionLink("Assign Grade", "AssignGrade", "Teacher", new { id = Model.EnrollmentId }, new { @class = "btn btn-primary" }) 
    
</p>
